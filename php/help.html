<!DOCTYPE html>
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="IceCash.css">
<title>IceCash help</title>

</head>
<body>
  <header>
    <h1>Help</h1>
    Описание Web клиента IceCash
  </header>
 <hr width=400 align=left> </hr>

<h2> Регистрация продаж </h2> 
Чтобы приступить к регистрации продаж небходимо :
<ol>
<li> Из главного меню выйти страницу "СТАРТ".
На этой странице произойдет попытка подключения к фискалному регистратору. Результатом опроса состояния ФРК будет звуковой сигнал от него.
В статусной строке коротко будет записано состояние систем для работы IceCash. Если все системы в норме то статусная строка будет содержать следующие записи:
<br/><strong> [mysql_ok] [dIce_ok] [frk_ok] [ready] </strong>
Если последняя запись будет <strong>[error]</strong>, то это означает что какая-то система не работает и регистрация продаж невозможна.
</li>
<li> На странице "Старт" выбрать <strong>"Регистрация продаж"</strong></li>
<ol>
<h3> Визуальные кнопки управления регистрацией </h3>
По умолчанию визуальные кнопки отсутсвуют, но их можно вывести с помощью клавиши <strong>[F10]</strong>. Повторное нажатие - скроет визуальную клавиатуру.
<h3> Окно ввода данных </h3>
На странице присутствует единственное окно ввода, оно по умолчанию активно (в нем мигает курсор ввода текста). 
Если по какойто причине это окно перестало быть активным, то нужно щелкнуть мышью внутри этого окна, вернув таким образом фокус окну ввода. 
Если вы пользуетесь сканнером, то сканирумый код будет автоматически вводится в окно ввода. Также можно без сканера, вручную ввести штрихкод в это окно и нажать клавишу <strong>ENTER</strong>
<h3> Статусная строка </h3>
Эта строка находится ниже окна ввода. Выглядит она примерно так: <br/> <strong> [add_sale] [продажа] [3521] [сдача: ] {100.0/50.0} </strong>.
Первая запись показывает <strong>статус последней операции</strong>, далее идет <strong>тип чека</strong> (продажа/возврат). Далее, <strong>номер последнего чека, сдача</strong>.
В фигурных скобках записаны <strong>итоговые суммы текущей смены</strong> (Наличная/Безналичная) выручка.
<h3> Основные функции </h3>
<ul>
<li> ОПЛАТА ЧЕКА. Клавиша <strong> [Ins] </strong> </li>
<li> Оплата кредитом. Клавиша <strong> [Del]   </strong> </li>
<li> Отмена чека. Клавиша <strong> [/]   </strong> </li>
<li> Изменить тип чека. Клавиша <strong> [PgUp]   </strong> </li>
<li> Снять X отчет. Клавиша <strong> [F11]  </strong> </li>
<li> Снять Z отчет. Клавиша <strong> [F12]  </strong> </li>
<li> Сторно (отмена последней позиции в чеке). Клавиша <strong> [*]  </strong> </li>
<li> Изменить количество. Клавиша <strong> [+] </strong>. Сначала вводится количество в окно ввода, дробное количество записывается через точку. 
Дробное количество возможно только для определенных товаров, которые помечены в прайс-листе, как весовые.</li>
<li> Изменить цену. Клавиша <strong> [-] </strong>. Сначала вводится новая цена в окно ввода. Операция возможна только если текущая позиция товара позволяет изменять цену и не противоречит условиям минимальной и максимальной цены. </li>
<li> Варианты цен. Товар может иметь список дополнительных цен. В этом случае при попытке отбить этот товар, появится список альтернативных цен. </li> 
<li> Регистрация по коду товара.  Клавиша <strong> [Home]  </strong> </li>
<li> Поиск товара по названию. Клавиша <strong> [End]  </strong>. Введите часть названия (регистр букв не важен) и нажмите [End]. В результате появится список найденного товара. 
Выбор осуществляется путём нажатия на ссылку (код товара). Список найденых товаров урезается до 20, потому старайтесь точнее формулировать поисковый запрос.</li>
<li> Копия последнего чека. Клавиша <strong> [F2] </strong>. </li>
<li> Продолжить печать <strong> [F8] </strong>. Данная функция исправляет "зависание" фискального регистратора. (бывает в случае резкого отключения электроэнергии в процессе печати чека)</li>
<li> Отменить чек на фискальном регистраторе <strong> [F7] </strong>. В редких случаях (после зависания ФРК) необходимо отменить чек, ожидающий своего закрытия на фискальном регистраторе.</li>
<li> Поменять действие при оплате по бонусной карте <strong> [F9] </strong>. По умолчанию действует начисление бонусов.</li>
<li> Открыть денежный ящик.  Клавиша <strong> [PgDn]  </strong> </li>
<li> Скидка по дисконтной карте делается следующим образом: Сначала набивается весь чек, а затем сканируется карта.</li>
<li> С помощью стрелок на клавиатуре можно перемещаться по чеку, меняя таким образом текущую активную позицию. Такие операции как изменение количества, цены, сторно применяются к текущей активной позиции чека.</li>
<li> При выборе дополнительной цены или товаров по поиску, также можно перемещаться по предлагаемым позициям. Для добавления позиции в чек нужно нажать ОПЛАТУ (insert) </li>
<li> Сменить тип операции с бонусной картой (начислить или снять).  Клавиша <strong> [F9] </strong> или кнопка БОНУС.</li>


</ul>
<h2> Настройка </h2>
Основные настройки:
<ul>
<li><strong>dev</strong> - порт устройства ФРК. Например COM1 это /dev/ttyS0, COM2 - /dev/ttyS1, USB - /dev/ttyUSB0.</li>
<li><strong>speed</strong> - Скорость порта.</li>
<li><strong>typedev</strong> - Тип устройства. В этой версии всего лишь обозначает - есть ФРК или нет. Если вы хотите работать без ФРК, оставьте поле пустым.</li>
<li><strong>textcheck</strong> - Строка, которая будет печататься перед каждым чеком.</li>
<li><strong>autocut</strong> - Автоотрезка чека (настройка самого ФРК)</li>
<li><strong>autobox</strong> - Автооткрытие ящика (настройка самого ФРК)</li>
<li><strong>firma</strong> - Название фирмы (заголовок чека ФРК)</li>
<li><strong>placename</strong> - Наименование точки продажи (заголовок чека ФРК)</li>
<li><strong>nkassa</strong> - Номер кассы на точке продаж. (входит в заголовок чека)</li>
<li><strong>idplace</strong> - Идентификатор точки продаж</li>
<li><strong>idprice</strong> - Идентификатор прайса для точки продаж</li>
<li><strong>scale_prefix</strong> - Список префиксов штрихкодов (через точку с запятой), которые система должна понимать как весовые (с закодированным кодом товара и количеством)</li>
<li><strong>bonusserver</strong> - IP адрес сервера бонусных карт</li>
<li><strong>bonuscard</strong> - Префикс штрихкода бонусных карт</li>
<li><strong>bonusport</strong> - Порт сервера бонусных карт</li>

</ul>
Один нюанс. Настройки связанные с программирование ФРК (autocut,autobox,firma,placename,nkassa) применятся только в случае, если связь с ФРК уже установлена. 
По умолчанию он не установлена. Для открытия порта и установки связи нужно посетить страницу <strong>"СТАРТ"</strong>
</body>
</html>

